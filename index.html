<!DOCTYPE html>
<html lang="en">
<head>
  <!-- (Same head as before with styles) -->
  <style>
    /* ... other styles ... */
    .box.votd-wrapper {
      flex: 1 1 280px; /* same as others */
      min-width: 280px;
      max-width: 280px;
    }
  </style>
</head>
<body>
  <div id="bg-image"></div>
  <div class="container">
    <div class="flex-top">
      <div class="date" id="date"></div>

      <div class="box votd-wrapper">
        <h2 class="collapsible-header">
          Verse of The Day <span class="triangle"></span>
        </h2>
        <div class="collapsible-content">
          <script src="https://www.biblegateway.com/votd/votd.write.callback.js"></script>
          <script src="https://www.biblegateway.com/votd/get/?format=json&version=NIV&callback=BG.votdWriteCallback"></script>
          <noscript>
            <iframe src="https://www.biblegateway.com/votd/get/?format=html&version=NIV"
                    title="Verse of the Day" width="100%" height="200"></iframe>
          </noscript>
        </div>
      </div>
    </div>
    <!-- Other boxes here... -->
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const unsplashKey = 'aa3DZ6SZRXFXkV2Hk90D4F7XdTi6bSPbNekst2guXro';

      // Load background image once per day using localStorage cache
      const today = new Date().toISOString().slice(0,10); // e.g. "2025-06-16"
      const cachedData = localStorage.getItem('bgImageData');
      let useCache = false;

      if (cachedData) {
        try {
          const obj = JSON.parse(cachedData);
          if (obj.date === today && obj.url) {
            document.getElementById('bg-image').style.backgroundImage = `url('${obj.url}')`;
            useCache = true;
          }
        } catch {}
      }

      if (!useCache) {
        fetch(`https://api.unsplash.com/photos/random?query=landscape&orientation=landscape&client_id=${unsplashKey}`)
          .then(res => res.json())
          .then(data => {
            if (data && data.urls && data.urls.full) {
              const imgUrl = data.urls.full;
              document.getElementById('bg-image').style.backgroundImage = `url('${imgUrl}')`;
              localStorage.setItem('bgImageData', JSON.stringify({ date: today, url: imgUrl }));
            }
          })
          .catch(() => {
            document.getElementById('bg-image').style.backgroundImage = "url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1600&q=80')";
          });
      }

      // Date display and other existing code...

      // The rest remains unchanged...

    });
  </script>
</body>
</html>
